<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/recursos/template/template.xhtml">

	<ui:define name="tituloPagina">
		 Início
	</ui:define>
	<ui:define name="tituloPrincipal">
		<i class="fa fa-home"> </i> Início</ui:define>
	<ui:define name="tituloSecundario"></ui:define>

	<ui:define name="botoesAcao"></ui:define>

	<ui:insert name="eventos">
		<f:metadata>

			<f:event listener="#{loginBean.validaPagina('Projetos')}"
				type="preRenderView" />

		</f:metadata>
	</ui:insert>

	<ui:define name="conteudo">

		<h:form id="form">

			<p:panel header="Gerenciar Projetos">

				<p:dataTable var="proj" value="#{projetoBean.listarProjeto()}"
					rows="10" paginator="true"
					paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
					rowsPerPageTemplate="10, 15, 20">

					<p:column headerText="Nome do Projeto" style="text-align: center;">

						<h:outputText value="#{proj.nomePj}" />

					</p:column>

					<p:column headerText="Tipo do Projeto" style="text-align: center;">

						<h:outputText value="#{proj.tipoProjeto.nome}" />

					</p:column>


					<p:column headerText="Data Prevista de Implantação" style="text-align: center;">

						<h:outputText value="#{dataImplementacaoBean.listarDatasImplantacaoEspecifico(proj).get(0).dataFormatada}"/>

					</p:column>

					<p:column style="text-align: center; width: 50px;">

						<p:commandButton update="@form:detatlhesProj" oncomplete="PF('infProj').show()" icon="ui-icon-search" title="Detalhes do projeto">
							<f:setPropertyActionListener value="#{proj}" target="#{projetoBean.projeto}" />
						</p:commandButton>

					</p:column>

				</p:dataTable>

				<p:dialog header="Detalhes do Projeto" widgetVar="infProj"
					modal="true" showEffect="fade" hideEffect="fade" resizable="false"
					width="500" height="400">

					<h:panelGroup id="detatlhesProj">
					
						<h:panelGrid rendered="#{not empty projetoBean.projeto}" columnClasses="label, value">
						
							<h:outputText value="Nome do projeto:"/>
							<h:outputText value="#{projetoBean.projeto.nomePj}"/>
														
							<br/>
							
							<h:outputText value="Descrição do projeto: "/>
							<h:outputText value="#{projetoBean.projeto.descricao}"/>
							
							<br/>
							
							<h:outputText value="Nome GP PMO: "/>
							<h:outputText value="#{projetoBean.projeto.nomeGpPmo}"/>
							
							<br/>
							
							<h:outputText value="Nome Focal CO: "/>
							<h:outputText value="#{projetoBean.projeto.nomeFocalCo}"/>
							
							<br/>
							
							<h:outputText value="Nome Especialista: "/>
							<h:outputText value="#{projetoBean.projeto.nomeEspecialista}"/>
							
							<br/>
							
							<h:outputText value="Areas Envolvidas: "/>
							<h:outputText value="#{projetoBean.projeto.areaEnv}"/>
							
							<br/>
							
							<h:outputText value="Areas Envolvidas: "/>
							<h:outputText value="#{projetoBean.projeto.areaEnv}"/>
							
							<br/>
							
							<p:button outcome="detalhesProjeto" value="Modificar">
							
								<f:param name="proj" value="#{projetoBean.projeto.id}"/>
								
							
							</p:button>
						
						</h:panelGrid>
					
					</h:panelGroup>

				</p:dialog>
			</p:panel>

		</h:form>


	</ui:define>
</ui:composition>
</html>