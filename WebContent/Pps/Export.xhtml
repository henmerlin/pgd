<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/recursos/template/template.xhtml">

        <ui:define name="tituloPagina">
            Export
        </ui:define>
        <ui:define name="tituloPrincipal">
            <i class="fa fa-print"> </i> Export
        </ui:define>
        <ui:define name="tituloSecundario"></ui:define>

        <ui:define name="botoesAcao"></ui:define>

        <ui:insert name="eventos">

            <f:metadata>

                <f:event listener="#{loginBean.validaPagina('Pps')}"
                         type="preRenderView" />

                <f:event listener="#{loginBean.validaAdmin('Pps')}"
                         type="preRenderView" />


            </f:metadata>

        </ui:insert>

        <ui:define name="conteudo">

            <p:panel id="panelInicio" header="Início" style="margin-bottom:20px">

                <p:fieldset legend="PPs" toggleable="true" toggleSpeed="500">

                    <p:dataTable id="dtPP" value="#{ppBean.listarPp()}"
                                 var="projetosPequenos" rows="10" paginator="true"
                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {Exporters}"
                                 rowsPerPageTemplate="10, 15, 20">

                        <f:facet name="{Exporters}">

                            <h:commandLink>

                                <i class="fa fa-download"></i>Exportar						
                                <p:dataExporter type="xls" target="dtPP" fileName="PP" />

                            </h:commandLink>

                        </f:facet>

                        <p:column headerText="Id">

                            <h:outputText value="#{projetosPequenos.id}" />

                        </p:column>

                        <p:column headerText="Nome do PP">

                            <h:outputText value="#{projetosPequenos.nome}" />

                        </p:column>

                        <p:column headerText="Descrição">

                            <h:outputText value="#{projetosPequenos.descricao}" />

                        </p:column>

                        <p:column headerText="Area Solicitante">

                            <h:outputText value="#{projetosPequenos.areaSolicitante}" />

                        </p:column>

                        <p:column headerText="Solicitante">

                            <h:outputText value="#{projetosPequenos.solicitante}" />

                        </p:column>

                        <p:column headerText="Autor">

                            <h:outputText value="#{projetosPequenos.autor}" />

                        </p:column>

                        <p:column headerText="Data Solicitação">

                            <h:outputText value="#{projetosPequenos.dataSolicitacaoFormatada}" />

                        </p:column>

                        <p:column headerText="Data Postagem">

                            <h:outputText value="#{projetosPequenos.dataPostagemFormatada}" />

                        </p:column>

                        <p:column headerText="Data Prevista">

                            <h:outputText value="#{projetosPequenos.dataPrevistaFormatada}" />

                        </p:column>

                        <p:column headerText="Impacto">

                            <h:outputText value="#{projetosPequenos.impacto}" />

                        </p:column>

                        <p:column headerText="Status Geral do PP">

                            <h:outputText value="#{projetosPequenos.statusFasePp.nome}" />

                        </p:column>

                    </p:dataTable>

                </p:fieldset>

                <br />

                <p:fieldset legend="Informação" toggleable="true" toggleSpeed="500">

                    <p:dataTable id="dtInfo"
                                 value="#{informacaoFaseBean.listarTodas()}"
                                 var="informacoesFase" rows="10" paginator="true"
                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {Exporters}"
                                 rowsPerPageTemplate="10, 15, 20">

                        <f:facet name="{Exporters}">

                            <h:commandLink>

                                <i class="fa fa-download"></i>Exportar						
                                <p:dataExporter type="xls" target="dtInfo" fileName="InfoPP" />

                            </h:commandLink>

                        </f:facet>

                        <p:column headerText="Data Fim">

                            <h:outputText value="#{informacoesFase.dataFimFormatado}" />

                        </p:column>

                        <p:column headerText="Data Inicio">

                            <h:outputText value="#{informacoesFase.dataFimFormatado}" />

                        </p:column>

                        <p:column headerText="Descrição">

                            <h:outputText value="#{informacoesFase.descricao}" />

                        </p:column>

                        <p:column headerText="Porcentagem">

                            <h:outputText value="#{informacoesFase.porcentagem}" />

                        </p:column>

                        <p:column headerText="Nome da Fase">

                            <h:outputText value="#{informacoesFase.fasePp.nome}" />

                        </p:column>

                        <p:column headerText="Status da Fase PP">

                            <h:outputText value="#{informacoesFase.statusFasePp.nome}" />

                        </p:column>

                        <p:column headerText="ID do PP">

                            <h:outputText value="#{informacoesFase.pp.id}" />

                        </p:column>

                    </p:dataTable>

                </p:fieldset>

                <br />

                <p:fieldset legend="Código" toggleable="true" toggleSpeed="500">

                    <p:dataTable id="dtCod" value="#{codigoPpBean.listarCodigoPP()}"
                                 var="codPP" rows="10" paginator="true"
                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {Exporters}"
                                 rowsPerPageTemplate="10, 15, 20">

                        <f:facet name="{Exporters}">

                            <h:commandLink>

                                <i class="fa fa-download"></i>Exportar						
                                <p:dataExporter type="xls" target="dtCod" fileName="CodigoPP" />

                            </h:commandLink>

                        </f:facet>

                        <p:column headerText="Número">

                            <h:outputText value="#{codPP.nome}" />

                        </p:column>

                        <p:column headerText="Data Postagem">

                            <h:outputText value="#{codPP.dataPostagemFormatada}" />

                        </p:column>

                        <p:column headerText="Código">

                            <h:outputText value="#{codPP.codigo.nome}" />

                        </p:column>

                        <p:column headerText="ID do PP">

                            <h:outputText value="#{codPP.pp.id}" />

                        </p:column>
                    </p:dataTable>

                </p:fieldset>

                <br />

                <p:fieldset legend="Data Priorização" toggleable="true" toggleSpeed="500">

                    <p:dataTable id="dtPrio"
                                 value="#{priorizacaoBean.listarPriorizacao()}" var="priorizacao"
                                 rows="10" paginator="true"
                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} {Exporters}"
                                 rowsPerPageTemplate="10, 15, 20">

                        <f:facet name="{Exporters}">

                            <h:commandLink>

                                <i class="fa fa-download"></i>Exportar						
                                <p:dataExporter type="xls" target="dtPrio"
                                                fileName="PriorizacaoPP" />

                            </h:commandLink>

                        </f:facet>

                        <p:column headerText="Prioridade">

                            <h:outputText value="#{priorizacao.prioridade.nome}" />

                        </p:column>

                        <p:column headerText="Desc">

                            <h:outputText value="#{priorizacao.descStatus}" />

                        </p:column>

                        <p:column headerText="Nota">

                            <h:outputText value="#{priorizacao.nota}" />

                        </p:column>

                        <p:column headerText="Saving">

                            <h:outputText value="#{priorizacao.saving}" />

                        </p:column>

                        <p:column headerText="Beneficio">

                            <h:outputText value="#{priorizacao.beneficio.nome}" />

                        </p:column>

                        <p:column headerText="ID do PP">

                            <h:outputText value="#{priorizacao.pp.id}" />

                        </p:column>

                    </p:dataTable>

                </p:fieldset>

            </p:panel>

        </ui:define>

    </ui:composition>

</html>